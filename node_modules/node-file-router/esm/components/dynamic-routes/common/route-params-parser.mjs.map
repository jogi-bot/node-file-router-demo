{"version":3,"file":"route-params-parser.mjs","names":["encodeSlugParam","createRouteSegmentParamsParser","pattern","paramExtractor","routeParamPattern","sanitizeParam","parseDynamicSegment","route","slugParamMatch","match","reduce","acc","currentParam","paramName","key","newRoute","replace","newParams","paramExtractors"],"sources":["../../../../../src/components/dynamic-routes/common/route-params-parser.ts"],"sourcesContent":["import { encodeSlugParam } from '../../slug-param/slug-param';\nimport type { Dictionary } from '../../../types/dictionary';\n\nexport type ParamExtractor = (value: string) => string | string[];\n\ninterface Params {\n  pattern: RegExp;\n  paramExtractor: ParamExtractor;\n  sanitizeParam: (value: string) => string;\n  routeParamPattern: string;\n}\n\nexport interface ParsedDynamicSegment {\n  route: string;\n  paramExtractors: Dictionary<ParamExtractor>;\n}\n\nexport function createRouteSegmentParamsParser({\n  pattern,\n  paramExtractor,\n  routeParamPattern,\n  sanitizeParam\n}: Params) {\n  return function parseDynamicSegment(route: string): ParsedDynamicSegment {\n    const slugParamMatch = route.match(pattern)!;\n    return slugParamMatch.reduce(\n      (acc, currentParam) => {\n        const paramName = sanitizeParam(currentParam);\n        const key = encodeSlugParam(paramName);\n\n        const newRoute = acc.route.replace(\n          currentParam,\n          routeParamPattern.replace(':key', key)\n        );\n        const newParams = { ...acc.paramExtractors, [key]: paramExtractor };\n\n        return { route: newRoute, paramExtractors: newParams };\n      },\n      { route, paramExtractors: {} }\n    );\n  };\n}\n"],"mappings":"SAASA,eAAe;AAiBxB,OAAO,SAASC,8BAA8BA,CAAC;EAC7CC,OAAO;EACPC,cAAc;EACdC,iBAAiB;EACjBC;AACM,CAAC,EAAE;EACT,OAAO,SAASC,mBAAmBA,CAACC,KAAa,EAAwB;IACvE,MAAMC,cAAc,GAAGD,KAAK,CAACE,KAAK,CAACP,OAAO,CAAE;IAC5C,OAAOM,cAAc,CAACE,MAAM,CAC1B,CAACC,GAAG,EAAEC,YAAY,KAAK;MACrB,MAAMC,SAAS,GAAGR,aAAa,CAACO,YAAY,CAAC;MAC7C,MAAME,GAAG,GAAGd,eAAe,CAACa,SAAS,CAAC;MAEtC,MAAME,QAAQ,GAAGJ,GAAG,CAACJ,KAAK,CAACS,OAAO,CAChCJ,YAAY,EACZR,iBAAiB,CAACY,OAAO,CAAC,MAAM,EAAEF,GAAG,CACvC,CAAC;MACD,MAAMG,SAAS,GAAG;QAAE,GAAGN,GAAG,CAACO,eAAe;QAAE,CAACJ,GAAG,GAAGX;MAAe,CAAC;MAEnE,OAAO;QAAEI,KAAK,EAAEQ,QAAQ;QAAEG,eAAe,EAAED;MAAU,CAAC;IACxD,CAAC,EACD;MAAEV,KAAK;MAAEW,eAAe,EAAE,CAAC;IAAE,CAC/B,CAAC;EACH,CAAC;AACH"}