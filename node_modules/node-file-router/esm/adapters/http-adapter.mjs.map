{"version":3,"file":"http-adapter.mjs","names":["URL","withoutTrailingSlashes","defaultNotFoundHandler","httpAdapter","getPathname","req","pathname","url","headers","host","getMethod","method","toLowerCase","default"],"sources":["../../../src/adapters/http-adapter.ts"],"sourcesContent":["import { URL } from 'node:url';\nimport { withoutTrailingSlashes } from '../utils/string.utils';\nimport * as defaultNotFoundHandler from '../components/default-not-found';\nimport type { IncomingMessage } from 'node:http';\nimport type { Adapter } from '../types/adapter';\n\nexport const httpAdapter: Adapter = {\n  getPathname(req: IncomingMessage) {\n    const { pathname } = new URL(\n      withoutTrailingSlashes(req.url || ''),\n      `https://${req.headers.host}`\n    );\n    return pathname;\n  },\n  getMethod(req: IncomingMessage): string | undefined {\n    return req.method?.toLowerCase();\n  },\n  defaultNotFoundHandler: defaultNotFoundHandler.default\n};\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,UAAU;AAAC,SACtBC,sBAAsB;AAAA,OACxB,KAAKC,sBAAsB;AAIlC,OAAO,MAAMC,WAAoB,GAAG;EAClCC,WAAWA,CAACC,GAAoB,EAAE;IAChC,MAAM;MAAEC;IAAS,CAAC,GAAG,IAAIN,GAAG,CAC1BC,sBAAsB,CAACI,GAAG,CAACE,GAAG,IAAI,EAAE,CAAC,EACpC,WAAUF,GAAG,CAACG,OAAO,CAACC,IAAK,EAC9B,CAAC;IACD,OAAOH,QAAQ;EACjB,CAAC;EACDI,SAASA,CAACL,GAAoB,EAAsB;IAClD,OAAOA,GAAG,CAACM,MAAM,EAAEC,WAAW,CAAC,CAAC;EAClC,CAAC;EACDV,sBAAsB,EAAEA,sBAAsB,CAACW;AACjD,CAAC"}